# ユーザーストーリー v1.0

**プロジェクト**: 本格的テトリスゲーム（HTML単体ファイル）
**作成日**: 2025-08-01
**技術スタック**: HTML5 Canvas + Vanilla JavaScript + CSS3
**イテレーション単位**: フィーチャー（2-4時間）

## Story 1: MVP Feature - 基本ゲームプレイフィーチャー

**ストーリー**:
As a テトリスを楽しみたいユーザー
I want HTMLファイルをダブルクリックするだけで本格的なテトリスをプレイできる
So that 複雑な設定なしに即座にゲームを楽しめる

**フィーチャー内容** (2-3時間で完成): ✅ **完了 (実績2.5時間)**
- [x] **ゲームボード描画** - 10x20グリッドの表示とブロック配置 ✅
- [x] **テトリミノ操作** - 7種類のピース生成・回転・移動・落下 ✅
- [x] **ライン消去システム** - 行完成時の消去とブロック落下 ✅
- [x] **基本得点計算** - ライン消去数に応じたスコア表示 ✅
- [x] **統合テスト** - HTMLダブルクリックから完全なゲームプレイまで ✅

**受け入れ基準**: ✅ **全て達成**
- [x] GIVEN HTMLファイルをダブルクリック WHEN ブラウザ起動 THEN 3秒以内にゲーム画面表示 ✅
- [x] GIVEN ゲーム開始 WHEN 矢印キー・スペースキー操作 THEN ピースが直感的に動作 ✅
- [x] GIVEN ライン完成 WHEN ブロック配置 THEN 自動消去とスコア加算 ✅
- [x] GIVEN ピース積み上がり WHEN 上限到達 THEN ゲームオーバー画面表示 ✅
- [x] GIVEN ゲーム中 WHEN ブラウザリロード THEN 即座に新規ゲーム開始可能 ✅

**実装で発見した追加価値**:
- ✅ レベルシステム: 10ライン消去毎に落下速度増加
- ✅ 一時停止機能: スペースキーでゲーム中断・再開
- ✅ 視覚的フィードバック: カラフルなピースとグリッド表示

**優先度**: 🔥 CRITICAL (MVP)
**工数見積**: 2-3時間（機能開発 + 統合テスト）

## Story 2: Core Feature - ゲーム進行管理フィーチャー

**ストーリー**:
As a 継続的にテトリスを楽しみたいユーザー
I want スコア保存・レベル管理・ゲーム状態管理ができる
So that 中断・再開や進歩の実感を得られる

**フィーチャー内容** (2-3時間で完成):
- [ ] **スコア永続化** - localStorageによるハイスコア保存・表示
- [ ] **レベルシステム** - 消去ライン数による難易度自動調整
- [ ] **ゲーム状態管理** - 開始・一時停止・再開・リセット機能
- [ ] **統計表示** - プレイ時間・消去ライン数・レベル履歴
- [ ] **統合テスト** - 複数回ゲーム・ブラウザクローズ後の状態確認

**受け入れ基準**:
- [ ] GIVEN ハイスコア達成 WHEN ゲーム終了 THEN 自動保存と表示更新
- [ ] GIVEN 10ライン消去 WHEN レベルアップ THEN 落下速度増加と視覚フィードバック
- [ ] GIVEN ゲーム中 WHEN 一時停止 THEN 状態保持と再開可能
- [ ] GIVEN ブラウザクローズ WHEN 再起動 THEN ハイスコア・設定保持

**優先度**: 🔸 IMPORTANT (Core)
**工数見積**: 2-3時間（永続化 + 状態管理）

## Story 3: Enhancement Feature - ユーザー体験向上フィーチャー

**ストーリー**:
As a より楽しくテトリスをプレイしたいユーザー
I want 視覚・聴覚エフェクトと洗練されたUIで本格的な体験を得たい
So that 懐かしさと満足感を感じながらゲームに没入できる

**フィーチャー内容** (2-3時間で完成):
- [ ] **視覚エフェクト** - ライン消去アニメーション・ピース配置エフェクト
- [ ] **サウンドシステム** - BGM・効果音（Web Audio API使用）
- [ ] **UI改善** - レスポンシブデザイン・キーボードショートカット表示
- [ ] **テーマシステム** - クラシック・モダンテーマ切り替え
- [ ] **統合テスト** - 全機能統合での快適性・パフォーマンス確認

**受け入れ基準**:
- [ ] GIVEN ライン消去 WHEN アニメーション再生 THEN 滑らかで満足感のある視覚効果
- [ ] GIVEN ゲーム開始 WHEN BGM再生 THEN 懐かしいテトリス音楽でゲーム気分向上
- [ ] GIVEN 様々な画面サイズ WHEN 表示確認 THEN 適切なレスポンシブ対応
- [ ] GIVEN テーマ切り替え WHEN 設定変更 THEN 即座に見た目変更と設定保存

**優先度**: 🔹 NICE-TO-HAVE (Enhancement)  
**工数見積**: 2-3時間（エフェクト + UI改善）

## フィーチャー実装戦略

### 🎮 テトリスゲーム開発の特性

**Story 1**: 基本ゲームプレイ（コア価値の実現）
- ゲームループ確立（開始→プレイ→終了）
- プレイヤー操作とフィードバック
- 基本的な達成感（ライン消去）

**Story 2**: ゲーム進行管理（継続価値の実現）  
- 進歩の可視化（レベル・スコア）
- 状態の永続化（中断・再開）
- 長期的なモチベーション

**Story 3**: ユーザー体験向上（感情価値の実現）
- 没入感の向上（音楽・エフェクト）
- 洗練された操作感
- 個人設定・カスタマイズ

### 技術的制約の統合

**単体HTMLファイル制約**:
- 全リソースのインライン化
- 外部依存なしの音声・画像処理
- 最小限のファイルサイズ

**即座起動制約**:
- 初期化処理の最適化
- 非同期読み込みの最小化
- キャッシュ効率の向上