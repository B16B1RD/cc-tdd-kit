---
allowed-tools:
  - Read(.claude/agile-artifacts/*)
  - Write
  - Bash(mkdir -p *)
  - Bash(git add *)
  - Bash(git commit -m *)
description: 15分マイクロイテレーション計画の作成（価値提供优先）
argument-hint: "[micro|iteration-number]"
---

# 15分マイクロイテレーション計画

モード: $ARGUMENTS（micro | イテレーション番号）

## 🎯 マイクロイテレーション設計

### 🚀 価値提供ファーストアプローチ

**microモード**の場合、以下で15分マイクロイテレーションを計画：

#### 1. 現在の動作状態を確認
**実際に動いているもの**を確認してください：
- ✅ 5分プロトタイプ：何かが表示されるか？
- ✅ 15分体験：ユーザーが操作可能か？
- ✅ 現在の価値レベルを判定

#### 2. 次の15分で追加する価値を定義
**1つの具体的な体験改善**を選択：

**テトリス例**:
- 現在: 正方形表示 → 次: キーで左右移動
- 現在: 左右移動 → 次: 自動落下
- 現在: 自動落下 → 次: 底で停止

**計算機例**:
- 現在: 固定計算 → 次: ボタンクリック入力
- 現在: 基本計算 → 次: 連続計算

#### 3. 15分TDDサイクル設計
```text
🎯 15分マイクロイテレーション: [機能名]

── 分数 0-2: 体験デザイン ──
○ ユーザーが何をできるようになるか定義
○ 最終的な体験をイメージ

── 分数 2-4: RED フェーズ ──
🔴 1つのシンプルなテスト作成
🔴 テスト実行で失敗確認

── 分数 4-10: GREEN フェーズ ──
🟢 Fake It戦略で最小実装
🟢 テスト成功確認
🟢 動作確認（ブラウザ/CLI等）

── 分数 10-13: REFACTOR フェーズ ──
🔵 必要に応じて構造改善
🔵 テスト再実行で動作保証

── 分数 13-15: 体験確認 & コミット ──
✅ ユーザー体験の最終確認
✅ Gitコミット: [BEHAVIOR] 機能名
```

### 📅 従来イテレーションモード（非推奨）

**番号指定モード**の場合は従来の90分イテレーション：

#### ⚠️ 非推奨理由
- 価値提供までの時間が長すぎる
- フィードバックループが遅い
- Kent BeckのMVP原則に反する

#### 従来方式の簡略化
- 1.5-2時間で完了可能な量
- 基盤構築より価値提供を優先
- 15-30分ステップに分解

### 4. マイクロイテレーションファイル作成

**microモード**の場合:
`.claude/agile-artifacts/iterations/micro-iteration-[timestamp].md`

**従来モード**の場合:
`.claude/agile-artifacts/iterations/iteration-N.md`

#### ファイル内容:
- 選択した15分価値機能
- TDDサイクル計画（RED-GREEN-REFACTOR）
- 体験確認ポイント
- コミットメッセージ案

#### コミット規則
コミット規則は @~/.claude/commands/shared/commit-rules.md を参照：
```bash
git add .claude/agile-artifacts/iterations/
git commit -m "[BEHAVIOR] Create 15min micro-iteration plan: [機能名]"
```

### 5. MVPファースト原則

- **体験優先**: 技術構造よりユーザー体験を最優先
- **即座デモ**: 15分後に必ずデモ可能状態
- **Kent Beck微適用**: "Make it work" → "Make it right" → "Make it fast"
- **単一価値**: 1イテレーション = 1つの体験改善

## 🎉 マイクロイテレーション準備完了

**microモード完了時**:
```text
🎯 15分マイクロイテレーション計画完成！

🚀 目標価値: [選択した機能]
🕰️ 予定時間: 15分以内
🎯 体験目標: [ユーザーができるようになること]

🔄 TDDサイクル:
- 0-2分: 体験デザイン
- 2-4分: REDフェーズ（テスト作成）
- 4-10分: GREENフェーズ（Fake It実装）
- 10-13分: REFACTORフェーズ（構造改善）
- 13-15分: 体験確認&コミット

🚀 即座実行: 15分で価値を実感しましょう！

以下のコマンドで実行開始：
/tdd:run micro
```

**従来モード完了時**:
```text
⚠️ 従来イテレーション計画完成（非推奨）

📋 計画詳細:
- 選択ストーリー: X個
- 推定時間: XX分（90分以内）
- ステップ数: Y個（15-30分単位）

🚨 推奨: マイクロイテレーションへ切り替え

以下のコマンドで実行：
/tdd:run

あるいは、マイクロイテレーションへ切り替え:
/tdd:plan micro
```
