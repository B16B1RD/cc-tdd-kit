---
description: "継続的フィードバックループと価値検証システム - アジャイル原則準拠"
argument-hint: "[immediate|daily|weekly|retrospective]"
allowed-tools: ["Write", "Read", "Bash", "TodoWrite"]
---

# 継続的フィードバックループ

モード: $ARGUMENTS (immediate | daily | weekly | retrospective)

## 🎯 アジャイル原則「個人と対話 > プロセスとツール」

### フィードバック哲学
**Kent Beck XP**: "顧客との協働によって価値を最大化する"

**短いフィードバックループの重要性**:
- ユーザーの真のニーズの発見
- 方向修正コストの最小化
- 継続的な価値向上
- チーム学習の促進

## 指示

以下の**フィードバックモード**に応じて実行してください：

### 🚀 immediate: 即座フィードバック（実装直後）

#### 1. 実装価値の即座確認

**現在実装した機能について**以下を確認してください：

1. **動作デモの実施**:
   ```bash
   # 実装した機能を実際に動作させる
   npm run dev  # または適切な実行コマンド
   echo "🎬 デモ実施: 実装した機能を実際に確認してください"
   echo "📝 確認事項:"
   echo "  - 機能が期待通りに動作するか？"
   echo "  - ユーザーにとって使いやすいか？"
   echo "  - 価値を感じられるか？"
   ```

2. **価値実感の確認**:
   ```text
   以下の質問に回答してください：
   
   Q1: この機能は本当にユーザーの問題を解決しますか？ (Yes/No)
   Q2: 実装前と比べて、どの程度改善されましたか？ (1-10点)
   Q3: 他の人にこの機能を見せたいと思いますか？ (Yes/No)
   Q4: この機能で最も良い点は何ですか？
   Q5: この機能で改善すべき点はありますか？
   ```

3. **フィードバック記録**:
   `.claude/agile-artifacts/feedback/immediate-feedback-$(date +%Y%m%d-%H%M).md` に記録：
   
   ```markdown
   # 即座フィードバック - $(date '+%Y-%m-%d %H:%M')
   
   ## 実装機能
   [実装した機能名]
   
   ## デモ結果
   - 動作状況: [正常/問題あり]
   - 使いやすさ: [評価]
   - 価値実感: [1-10点]
   
   ## フィードバック
   - 良い点: [回答]
   - 改善点: [回答]
   - 次の優先事項: [回答]
   
   ## アクション
   - [ ] 改善が必要な場合: 修正実施
   - [ ] 満足な場合: 次の機能検討
   ```

### 📅 daily: 日次フィードバック

#### 1. 1日の開発振り返り

**今日の開発について**総合的に確認してください：

1. **TDD実践度の確認**:
   ```bash
   # 今日のコミット履歴を確認
   git log --oneline --since="1 day ago"
   echo ""
   echo "📊 TDD原則遵守チェック:"
   echo "  - [BEHAVIOR]コミットの数: $(git log --oneline --since='1 day ago' | grep -c '\[BEHAVIOR\]')"
   echo "  - [STRUCTURE]コミットの数: $(git log --oneline --since='1 day ago' | grep -c '\[STRUCTURE\]')"
   echo "  - テストファースト実践度: [自己評価 1-10点]"
   ```

2. **価値創造の振り返り**:
   ```text
   今日1日の開発について答えてください：
   
   Q1: 今日実装した機能は、ユーザーにとって価値がありましたか？
   Q2: Kent Beck TDD原則を正しく実践できましたか？
   Q3: 実装中に学んだ重要なことはありますか？
   Q4: 明日優先すべき改善点は何ですか？
   Q5: 今日の開発に満足していますか？（1-10点）
   ```

3. **学習記録の作成**:
   `.claude/agile-artifacts/feedback/daily-$(date +%Y%m%d).md` に記録

### 📊 weekly: 週次価値検証

#### 1. 週間価値分析

**この1週間の開発**について包括的に分析してください：

1. **メトリクス収集**:
   ```bash
   echo "📈 週間開発メトリクス:"
   echo "  - 総コミット数: $(git log --oneline --since='1 week ago' | wc -l)"
   echo "  - 実装機能数: $(git log --oneline --since='1 week ago' | grep -c '\[BEHAVIOR\]')"
   echo "  - リファクタリング数: $(git log --oneline --since='1 week ago' | grep -c '\[STRUCTURE\]')"
   
   # テストカバレッジ（可能な場合）
   if command -v npm &> /dev/null && npm list --depth=0 | grep -q "jest\|vitest"; then
     echo "  - テスト実行: $(npm test -- --coverage --silent 2>/dev/null | grep -E 'All files|Total' || echo '未計測')"
   fi
   ```

2. **ユーザー価値評価**:
   ```text
   週間価値評価：
   
   Q1: この1週間で実装した機能の中で、最も価値が高いものは？
   Q2: ユーザーにとって不要と思われる機能はありましたか？
   Q3: 実装した機能を実際に他の人に見せましたか？
   Q4: フィードバックを受けた場合、どのような内容でしたか？
   Q5: 来週の開発で最優先すべきことは何ですか？
   ```

3. **改善計画の策定**:
   - 技術的改善点の特定
   - ユーザー価値向上の計画
   - TDD実践度の改善目標

### 🔄 retrospective: ふりかえり

#### 1. プロジェクト総合ふりかえり

**プロジェクト全体**について深く振り返ってください：

1. **Good/Bad/Try分析**:
   ```text
   プロジェクトふりかえり：
   
   😊 Good (良かったこと):
   - [TDD実践で良かった点]
   - [アジャイル原則で効果的だった点]
   - [チーム協働で良かった点]
   
   😞 Bad (改善が必要だったこと):
   - [TDD実践での課題]
   - [価値提供での課題]
   - [プロセスでの課題]
   
   🚀 Try (次に試したいこと):
   - [TDD実践の改善案]
   - [価値検証の改善案]
   - [フィードバックループの改善案]
   ```

2. **Kent Beck原則の内省**:
   ```text
   TDD原則実践の内省：
   
   Q1: 「テストファースト」を徹底できましたか？
   Q2: Fake It戦略を効果的に使えましたか？
   Q3: Red-Green-Refactorサイクルは自然にできましたか？
   Q4: 「動作してから構造改善」を実践できましたか？
   Q5: TDDによって設計品質は向上しましたか？
   ```

3. **次期改善アクション**:
   - 具体的な改善計画（SMART目標）
   - 学習すべき技術・手法
   - プロセス改善の実施計画

### 📋 フィードバック統合と可視化

#### 全フィードバックの統合分析

**定期的に以下を実施**してください：

1. **フィードバック統合**:
   ```bash
   # フィードバックファイルの一覧表示
   find .claude/agile-artifacts/feedback -name "*.md" -type f | sort
   
   # フィードバック頻度の確認
   echo "📊 フィードバック実施状況:"
   echo "  - 即座フィードバック: $(find .claude/agile-artifacts/feedback -name "immediate-*" | wc -l)回"
   echo "  - 日次フィードバック: $(find .claude/agile-artifacts/feedback -name "daily-*" | wc -l)回"
   echo "  - 週次フィードバック: $(find .claude/agile-artifacts/feedback -name "weekly-*" | wc -l)回"
   ```

2. **価値トレンド分析**:
   ```bash
   # 価値評価の推移を分析（可能な範囲で）
   echo "📈 価値評価トレンド:"
   grep -h "価値実感.*点" .claude/agile-artifacts/feedback/*.md 2>/dev/null | tail -5 || echo "データ不足"
   ```

3. **改善効果の確認**:
   - 過去のフィードバックで指摘された問題の解決状況
   - 実装したフィードバックの効果測定
   - 継続的改善の成果確認

## 🎯 フィードバックループ成功指標

### ✅ 短期指標（日次）
- [ ] 実装した機能のデモを毎回実施
- [ ] ユーザー価値の確認を怠らない
- [ ] 改善点の即座特定と対応

### ✅ 中期指標（週次）
- [ ] 週1回以上の包括的価値評価
- [ ] メトリクスによる定量的分析
- [ ] 来週の改善計画策定

### ✅ 長期指標（月次）
- [ ] プロジェクト全体のふりかえり実施
- [ ] TDD実践度の向上確認
- [ ] 継続的改善の文化定着

## 🚀 継続的改善の実現

```text
✅ 継続的フィードバックシステム構築完了！

🔄 フィードバックループ:
- 即座: 実装直後の価値確認
- 日次: TDD実践と価値創造の振り返り
- 週次: 総合的な価値分析と改善計画
- 月次: プロジェクト全体のふりかえり

📊 価値検証システム:
- デモベースの価値確認
- 定量的メトリクス測定
- ユーザーフィードバック重視
- 継続的改善の実施

🚀 次のアクション:

即座フィードバック:
/tdd:feedback immediate

日次振り返り:
/tdd:feedback daily

週次価値検証:
/tdd:feedback weekly

プロジェクトふりかえり:
/tdd:feedback retrospective
```

**真のアジャイル開発**では、継続的なフィードバックがすべての改善の源泉です。