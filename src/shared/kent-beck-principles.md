# Kent Beck TDD原則 & MVPファースト哲学

## 🔄 厳格なTDDサイクル

### Red → Green → Refactor を必ず守る

- テストなしでコードを書かない
- 一度に 1 つのテストのみ作成
- 各変更後に全テストを実行

## 🚀 3段階開発モデル（Kent Beck + Eric Ries 統合）

### 段階1: **Spike** - 探索とリスク除去（5分）

**Kent Beck の "Spike" 原則**:
- **目的**: 技術的不確実性の解消と学習
- **成果物**: 知識とナレッジ（コードは捨てる前提）
- **品質基準**: 「汚いコード」で探索的、バグ修正不要
- **判断**: 「動くことが確認できた → 次へ」

**例**: テトリスブロック1つ表示、計算「2+2=4」固定表示

### 段階2: **MVP** - 仮説検証と成長基盤（15分）

**Eric Ries の "MVP" 原則**:
- **目的**: ユーザー仮説の検証と成長する製品基盤
- **成果物**: 進化させる最初のバージョン
- **品質基準**: 成長可能な基盤品質、バグ修正が重要
- **判断**: 「基盤として機能するか → バグがあれば修正」

**例**: キー操作でブロック移動、境界制限実装

### 段階3: **Product** - 持続可能な製品（30分）

**継続的製品開発**:
- **目的**: 持続可能で拡張可能な製品価値
- **成果物**: 他人に見せられる品質の製品
- **品質基準**: 製品品質、バグ修正は必須
- **判断**: 「製品として成立するか → 品質確保が最優先」

**例**: 自動落下、回転、ライン消去等の完全機能

### 🎯 段階別バグ修正判断基準

| 段階 | バグ修正価値 | 判断基準 | 対応 |
|------|-------------|----------|------|
| **Spike（5分）** | **低** | 動作確認が目的 | 「次の価値へ」を優先 |
| **MVP（15分）** | **高** | 成長基盤が目的 | バグ修正を推奨 |
| **Product（30分）** | **必須** | 製品品質が目的 | バグ修正を必須化 |

### "Make it work, make it right, make it fast" の再定義

**Make it work** = Spike段階
- 5分で何かが動く状態（バグ有りでもOK）

**Make it right** = MVP段階  
- 15分で正しく動作する基盤（バグ修正重要）

**Make it fast** = Product段階
- 30分で最適化された製品（品質確保必須）

### 🚨 アンチパターン（Kent Beckが禁止していること）

- **技術基盤から始める**: データベース、アーキテクチャ、設定ファイルの先行作成
- **完璧な設計の追求**: 動作前の理論的完璧さ
- **長時間の開発サイクル**: 90分、120分等の長いイテレーション
- **検証なしの仮定**: ユーザーの声を聞かずに作る

## 🎯 Tidy First原則（構造与行動分離）

### 構造的変更と振る舞いの変更を絶対に混ぜない

- **[BEHAVIOR]** - 新機能、バグ修正（体験変更）
- **[STRUCTURE]** - リファクタリング、整理（構造改善）
- 必ず別々のコミットにする

### 優先順位
1. **まず体験** - BEHAVIORコミットで価値を実現
2. **次に構造** - STRUCTUREコミットで整理

## 📝 Kent Beck戦略

### Fake It（60%以上で使用）

```javascript
// 最初は恥ずかしいくらいシンプルに
function calculateSum(a, b) {
  return 3; // ハードコーディング
}

### Triangulation（2つ目のテストで一般化）

```javascript
// 2つ目のテストを追加してから一般化
function calculateSum(a, b) {
  return a + b; // 一般的な実装へ
}

### Obvious Implementation（明白な場合のみ）

単純で明白な実装の場合のみ、最初から正しい実装を書く

## 🕰️ 15分マイクロイテレーション原則

### Kent Beckのリズム哲学

**価値提供のリズム**:
- **5分**: 何かが動く（Hello Worldレベル）
- **15分**: ユーザーが操作できる
- **30分**: 基本的な価値を実感
- **45分**: 継続的な使用価値

**フィードバックループ**:
- 各段階で必ずユーザーに確認
- 「どうですか？」を聞くタイミングを失わない
- 早期の修正でコストを最小化

### 真のアジャイル開発

**アジャイル宣言の実践**:
- **個人と対話** → 15分毎のフィードバック
- **動くソフトウェア** → 5分で動くもの
- **顧客との協働** → ユーザー体験中心設計
- **変化への対応** → マイクロイテレーションで柔軟性確保

## 🎯 実践ガイドライン

### 毎日15分で問うべきこと

1. **動作確認**: 「今作っているものは動きますか？」
2. **価値確認**: 「ユーザーはこれで何か嬉しいですか？」
3. **次の価値**: 「次の15分で何を追加しましょうか？」
4. **適切な停止**: 「今日はここで終了しても良いでしょうか？」

### 成功指標

- **15分後**: ユーザーが何かしら新しいことを体験できる
- **30分後**: 基本的な使用価値を感じられる
- **45分後**: 「これなら使いたい」と思える
- **60分後**: 他の人に「ちょっと見て」と言える
