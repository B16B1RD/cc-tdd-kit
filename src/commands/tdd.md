---
description: "TDD開発の統合エントリーポイント - 要望からストーリー作成、環境構築まで一気通貫実行"
argument-hint: "作りたいものを説明してください（例: テトリスゲーム）"
allowed-tools: ["Write", "Read", "LS", "WebSearch", "Bash"]
---

# TDD開発スタート

要望: $ARGUMENTS

## 指示

**MVPファースト戦略**で以下を実行してください：

## 📝 Phase 0: 超軽量ストーリー定義（Kent Beck XP方式）

### 🎯 Kent Beckユーザーストーリー原則

**重要**: Kent Beck自身が作った「Extreme Programming」では、**ストーリーがテストより先**です。

### 1. 2-3文の超シンプルストーリー作成

**要望から最シンプルなストーリー**を1つ作成してください：

**フォーマット**: 「ユーザーが[X]できるようにしたい」

**例**:
- **テトリス**: 「ユーザーがゲーム画面でブロックを見ることができるようにしたい」
- **計算機**: 「ユーザーが簡単な計算結果を見ることができるようにしたい」
- **チャット**: 「ユーザーがメッセージを読むことができるようにしたい」
- **API**: 「ユーザーがサービスの状態を確認できるようにしたい」

### 2. ストーリーの簡易記録

**メモ程度でOK**。正式なファイル作成は後で行います。

```text
ストーリー: [作成した2-3文]
目標: 5分でこの体験を実現する
```

### 3. TDD開始タイミングの選択

**Kent Beck実践ベース**の選択肢を提供します：

#### オプションA: 即座TDD開始（経験者向け）
- 5分プロトタイプからTDD適用
- ストーリーベースのテスト作成
- Red-Green-Refactorサイクルで進行

#### オプションB: 価値実証後TDD（Kent Beck実践）
- **Kent Beck自身が新プロジェクト（Max）で実践した方法**
- 「最初の1ヶ月間テストなしで開発」
- 「価値が証明された後にテストを追加」
- 5分→15分→30分で価値を積み上げ、その後にTDD適用

**推奨**: 初心者や新しい領域ではオプションBを選択

## 🚀 Phase 1: 5分で動くプロトタイプ（最優先）

### 1. 要望から最小限の動作を定義
**要望を分析**して、**5分で見せられる最小限の動作**を決定してください：

- **テトリス** → 正方形が1つ画面に表示される
- **計算機** → 「2+2=4」が表示される
- **チャット** → 「Hello World」メッセージが表示される
- **APIサーバー** → `{"status": "working"}` が返る
- **CLI** → `hello` コマンドが動作する

### 2. 超高速セットアップ（3分以内）
**最小限のファイル**のみ作成してください：

**Web系プロジェクト**:
```bash
# 1つのHTMLファイルのみ作成
echo '<!DOCTYPE html><html><body><h1>動いた！</h1></body></html>' > index.html
```

**CLI系プロジェクト**:
```bash
# 1つのスクリプトファイルのみ
echo 'console.log("Hello World")' > main.js  # Node.js
# または
echo 'print("Hello World")' > main.py  # Python
```

**API系プロジェクト**:
```bash
# 最小限のサーバーファイル
echo 'const http = require("http"); http.createServer((req,res) => res.end("Working!")).listen(3000)' > server.js
```

### 3. 即座に動作確認（1分以内）
**作成したものを即座に動かしてください**：

- **HTML** → ブラウザで直接開く
- **Node.js** → `node main.js`
- **Python** → `python main.py`
- **API** → `node server.js` → `curl localhost:3000`

### 4. 5分達成の確認
以下を確認してください：
- ✅ 何かが動作している
- ✅ 目に見える結果がある
- ✅ ユーザーが「おお！」と思える

## 🎯 Phase 2: 15分で体験価値（2nd優先）

### 5. インタラクション追加
**ユーザーが触れる要素**を1つ追加してください：

- **テトリス** → キーで正方形を左右移動
- **計算機** → ボタンクリックで計算実行
- **チャット** → 入力欄からメッセージ送信
- **API** → パラメータ付きエンドポイント
- **CLI** → コマンドライン引数処理

### 6. 最小限のTDD開始
最初のテストを**1つだけ**書いてください：
```javascript
// 例: テトリス
test('ブロックが表示される', () => {
  expect(document.querySelector('#block')).toBeTruthy();
});
```

### 7. 15分体験の確認
以下を確認してください：
- ✅ ユーザーが何らかの操作できる
- ✅ 操作に対して反応がある
- ✅ 基本的な価値を感じられる

## 📁 Phase 3: 30分で継続価値（3rd優先）

### 8. アジャイル管理構造の最小セットアップ
**動作確認後に**必要な管理ファイルを作成：
```bash
mkdir -p .claude/agile-artifacts/{stories,iterations,reviews,tdd-logs}
```

### 9. ストーリー作成への移行準備
**実際に動いているもの**を基準に、次のステップでストーリーを作成します：
- 現在の動作状態を基準点として記録
- 5分プロトタイプ + 15分体験をSprint 0として定義
- 次の価値拡張計画を立案

### 10. 技術的セットアップ（必要に応じて）
**動作が確認できた後で**技術環境を整える：
- パッケージマネージャー設定（bun/pnpm推奨）
- テストフレームワーク（最小限）
- Git初期化（まだの場合）

## 🎯 MVPファースト原則

- **5分ルール**: 5分以内に何かが動いている必要がある
- **体験優先**: 技術セットアップより体験価値を最優先
- **見える化**: 内部構造より目に見える結果を重視
- **即座フィードバック**: 各段階で即座にデモ可能な状態
- **段階的価値**: 5分→15分→30分で段階的に価値向上
- **動作起点**: 動いてから構造を整える（Kent Beck "Make it work" 原則）

## 🎉 MVP達成確認

**Phase 1完了時（5分）**:
```text
🎯 5分MVP達成！

✅ 動作確認: [作成したもの]が正常に動作
✅ 体験価値: ユーザーが「おお！」と感じられる状態
✅ 次の目標: 15分で操作可能な体験を追加

🚀 次のステップ: 体験価値を向上させます

以下で継続してください：
/tdd [さらに追加したい機能]
```

**Phase 2完了時（15分）**:
```text
🎯 15分体験価値達成！

✅ インタラクション: ユーザーが操作可能
✅ 反応性: 操作に対する適切な反応
✅ 価値実感: 基本的な使用価値を提供

🚀 次のステップを選択してください：

⚡ **MVP基盤の品質確保（推奨）**:
🐛 バグ修正 - 操作や反応に不具合がある場合の修正

🚀 **継続開発**:
📋 マイクロイテレーション - /tdd:plan micro
🎯 30分製品化 - さらなる価値拡張

💬 **確認・テスト**:
🎮 動作テスト - 他の人に操作してもらう
📝 フィードバック - 15分体験についての意見収集

**注意**: MVP段階（15分）では成長基盤として機能することが重要です。
バグがある場合は修正を推奨します（特に操作性や境界制限など）。
```

**Phase 3完了時（30分）**:
```text
🎯 持続的価値提供体制確立！

✅ 基盤価値: 30分で実用的な価値を提供
✅ 継続体制: アジャイル管理構造準備完了
✅ 成長準備: 次の価値拡張への準備完了

🚀 継続的開発フェーズ移行

次のステップを選択してください：

🚨 **品質確保が必要な場合（Product段階 - バグ修正必須）**:
🐛 バグ修正・品質向上 - 製品品質として不具合を修正

📈 **価値拡張を継続する場合**:
🚀 機能追加 - /tdd:story [次に追加したい機能や改善点]
📋 イテレーション計画 - /tdd:plan micro

💬 **フィードバック収集**:
🎯 ユーザーテスト - 実際のユーザーに体験してもらう
📝 改善点収集 - 現在の製品についての詳細フィードバック

✅ **完了・満足**:
🎉 プロジェクト完了 - 現在の状態で満足

**注意**: Product段階（30分）では品質確保が最優先です。
バグや不具合を発見した場合は、機能追加前に修正することを強く推奨します。
```