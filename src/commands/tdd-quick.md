---
allowed-tools:
  - Task
description: "TDD開発を即座に開始する統合コマンド - Kent Beck流完全フィードバックループ"
argument-hint: "作りたいものを3行で説明"
---

# TDD クイックスタート

**段階的に考えます：**

Kent Beck 流の完全なフィードバックループでTDD開発を自動実行します。

要望: $ARGUMENTS

## 🕐 日付認識の能動的確認

まず現在の日付を正確に取得します：

`現在年=$(date +%Y)` で現在年を確認し、最新情報で開発を進めます。

## Phase 1: 初期セットアップと最初のイテレーション

以下のカスタムスラッシュコマンドを**Task toolで順次実行**：

### Step 1: ユーザーストーリー作成と技術選定

Task toolで `/tdd:story $ARGUMENTS` を実行し、完了まで待機：
- 要件分析（5つのなぜ）
- プロジェクトタイプ判定（web-app/api-server/cli-tool）
- 動的技術スタック選択（最新{現在年}情報）
- project-config.json 作成

### Step 2: 開発環境構築

Task toolで `/tdd:init` を実行し、完了まで待機：
- プロジェクト設定読み込み
- 選定された技術スタックベースの環境構築
- 言語別CLAUDE.md生成
- Git初期化

### Step 3: イテレーション計画

Task toolで `/tdd:plan 1` を実行し、完了まで待機：
- 90分イテレーション設計
- ストーリー分割と優先順位付け
- TDD実行計画作成

### Step 4: TDD実行開始

Task toolで `/tdd:run` を実行し、完了まで待機：
- Kent Beck TDDサイクル開始
- Red→Green→Refactor実践
- 必須ゲートによる品質確保

## Phase 2: レビューと継続判断

### Step 5: イテレーションレビュー

Task toolで `/tdd:review 1` を実行し、完了まで待機：
- 実装品質の分析
- Kent Beck原則への準拠確認
- 改善点とフィードバックの収集
- 次ステップの推奨事項提示

## Phase 3: 継続サイクル

レビュー完了後、ユーザーに継続意思を確認し、選択に応じて以下を自動実行：

```text
🎯 イテレーションが完了しました！

次のステップを選択してください：

1. 継続開発 - 次のイテレーション計画
2. 機能追加 - 新しい機能のストーリーを追加  
3. 機能改善 - 既存機能の改善点を詳細収集
4. 完了 - 現在の状態でプロジェクト終了

あなたの選択: [1/2/3/4]
```

**選択に応じた自動実行:**

### 1. 継続開発を選択した場合
Task toolで以下を順次実行：
- `/tdd:plan 2` （次のイテレーション計画）
- `/tdd:run` （TDD実行）
- `/tdd:review 2` （レビュー）

### 2. 機能追加を選択した場合
Task toolで以下を順次実行：
- `/tdd:story [新機能詳細]` （新機能ストーリー作成）
- 継続フロー（plan → run → review）

### 3. 機能改善を選択した場合
- 詳細な改善点収集（下記質問フォーム）
- Task toolで `/tdd:story [改善版要件]` を実行
- 継続フロー（plan → run → review）

### 4. 完了を選択した場合
プロジェクト完了報告とサマリー表示

## 🔧 機能改善選択時の詳細収集

「3. 機能改善」を選択した場合、以下の詳細な質問で改善点を収集：

```text
🔧 機能改善モード

フィードバックで挙がった改善点について詳しく教えてください：

1. 改善したい機能は何ですか？
2. 現在の何が問題ですか？
3. どのように改善したいですか？
4. 優先度はどの程度ですか？ [高/中/低]
5. 他に関連して改善したい点はありますか？
```

## 🔍 自動検証プロトコル

### 各ステップ完了確認

**必須確認事項:**
- ✅ コマンド実行がエラーなく完了
- ✅ 期待するファイルが `.claude/agile-artifacts/` 配下に作成
- ✅ Git コミットが正常に実行される
- ✅ 次のステップに必要な情報が準備完了

**エラー時の対処:**
- コマンド失敗時は詳細エラー情報を表示
- 必須ファイルが作成されない場合は再実行を提案  
- Git エラー時は状態確認と修復手順を提示
- 各ステップで問題が発生した場合は実行を中断し、解決方法をユーザーに提示

**継続判定:**
各ステップ完了時に以下を確認してから次に進む：
1. 実行結果の妥当性検証
2. 必要ファイルの存在確認
3. Git状態の健全性チェック  
4. ユーザーへの進捗報告

XP原則に基づく即座のフィードバック、頻繁な顧客接触、継続的なコミュニケーション、レトロスペクティブを自動化。
