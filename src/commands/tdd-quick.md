---
allowed-tools:
  - Bash(mkdir -p *)
  - Bash(test -f *)
  - Bash(test -d *)
  - Bash(git init)
  - Bash(git add *)
  - Bash(git commit -m *)
  - Write
  - Read(*)
  - TodoWrite
description: TDD開発を即座に開始する統合コマンド  
argument-hint: "作りたいものを3行で説明"
---

# 🚀 TDDクイックスタート

**要望**: $ARGUMENTS

## 🎯 実行計画

以下の手順でTDD開発を開始します：

1. 🔧 **環境初期化** - Git設定とディレクトリ作成
2. 📝 **ストーリー作成** - 要望分析と受け入れ基準設定  
3. 📋 **計画策定** - 90分イテレーションの詳細計画
4. 🚀 **TDD開始** - Red-Green-Refactorサイクル実行

---

## ステップ1: 環境初期化

### プロジェクト構造確認

現在のディレクトリ状況:

- Gitリポジトリ: !`test -d .git && echo "✅ 初期化済み" || echo "❌ 未初期化"`
- CLAUDE.md: !`test -f CLAUDE.md && echo "✅ 存在" || echo "❌ 不在"`

### 環境初期化実行

以下の初期化を実行します：

!`if [ ! -d .git ]; then git init && echo "✅ Git初期化完了"; \|
else echo "✅ Git既に初期化済み"; fi`

!`mkdir -p .claude/agile-artifacts/{stories,iterations,reviews,tdd-logs} \|
&& echo "✅ TDD作業ディレクトリ作成完了"`

---

## ステップ2: ユーザーストーリー作成

### 要望分析

**入力された要望**: $ARGUMENTS

### ストーリーファイル作成

以下の内容でストーリーファイルを作成します：

```markdown
# ユーザーストーリー: $ARGUMENTS

## 背景と目的

ユーザーからの要望: "$ARGUMENTS"

このストーリーの目的は、ユーザーが求める機能を最小限の形で実現し、動作するものを素早く作成することです。

## 受け入れ基準

- [ ] 基本機能が期待通りに動作する
- [ ] ユーザーが直感的に使えるインターフェース
- [ ] エラーが発生した際の適切なメッセージ表示
- [ ] パフォーマンスが実用的なレベル
- [ ] コードが清潔で理解しやすい

## 技術的制約

- 実装方法: Webベース (HTML/CSS/JavaScript)
- 推定工数: 90分 (3フェーズ)
- 優先度: 高
- ターゲット: モダンブラウザー

## 段階的リリース計画

### Phase 1 (30分): 最小動作版 (MVP)
最も基本的な機能のみを実装し、「動くもの」を作る

### Phase 2 (30分): 基本機能完成
ユーザーが期待する主要機能をすべて実装

### Phase 3 (30分): 品質向上  
ユーザビリティ、パフォーマンス、エラーハンドリングの改善

## リスクと対策

- 時間不足: 機能をさらに細かく分割して実装
- 技術的困難: よりシンプルなアプローチに変更
- ユーザーニーズの誤解: 適宜フィードバックを求めて調整
```

**ストーリーファイルを作成中...**

作成日時: !`date '+%Y-%m-%d %H:%M:%S'`

**ストーリーファイルを作成しています...**

ストーリーファイルが作成されました: `.claude/agile-artifacts/stories/user-story-001.md`

!`git add .claude/agile-artifacts/stories/user-story-001.md && \|
git commit -m "[FEAT] ユーザーストーリー作成: $ARGUMENTS" && \|
echo "✅ ストーリーファイルをGitコミット完了"`

---

## ステップ3: イテレーション1計画

### 90分計画の策定

以下の内容でイテレーション計画を作成します：

```markdown
# イテレーション1計画 - $ARGUMENTS

作成日時: !`date '+%Y-%m-%d %H:%M:%S'`

## 目標
$ARGUMENTS の最小動作版 (MVP) を 90 分で完成させる

## 戦略
- **Fake It 戦略を積極的に使用** (60%以上)
- **Triangulation** で段階的に一般化
- **Tidy First** 原則で構造変更と機能変更を分離

## タスク分解

### 🟢 Phase 1 (0-30分): 基盤構築

**目標**: 最初のテストを通す

- [ ] **テスト環境セットアップ** (5分)
  - プロジェクト構造作成
  - 基本ファイル構成
- [ ] **最初の失敗テスト作成** (10分) 
  - RED: 最もシンプルなテストを書く
  - テストが失敗することを確認
- [ ] **Fake It 実装** (15分)
  - GREEN: ハードコーディングでテストを通す
  - REFACTOR: 簡単なリファクタリング

### 🟡 Phase 2 (30-60分): 機能実装

**目標**: 主要機能を実装し、動作するものにする

- [ ] **2つ目のテストとTriangulation** (10分)
  - 異なるケースのテスト追加
  - 一般的な実装へのリファクタリング
- [ ] **核機能の実装** (15分)
  - ユーザーが最も期待する機能を実装
  - テストカバレッジを維持
- [ ] **ユーザーインターフェース** (5分)
  - 基本的なUIの実装
  - 動作確認

### 🔴 Phase 3 (60-90分): 品質向上

**目標**: ユーザーが実際に使えるレベルに仕上げる

- [ ] **エラーハンドリング** (10分)
  - 予想されるエラーケースのテスト
  - 適切なエラーメッセージ表示
- [ ] **ユーザビリティ改善** (10分)
  - UI/UX の改善
  - レスポンシブデザイン対応
- [ ] **最終テストとドキュメント** (10分)
  - 統合テスト実行
  - README 作成
  - 使用方法の説明

## 必須ゲート 🚨

以下は各フェーズで必ずクリアすること：

- ✅ **全テストが通る** - 赤信号では絶対に進まない
- ✅ **動作確認ができる** - 実際に使えることを確認
- ✅ **Gitコミットを行う** - 各フェーズ終了時にコミット
- ✅ **コードの清潔性** - 理解しやすいコードを保つ

## 時間管理

- **25分作業 + 5分休憩** のポモドーロテクニックを推奨
- **15分おきに進捗確認** - スケジュール遊れを早期発見
- **タイムボックス化** - 1つのタスクに集中
```

**イテレーション計画を作成しています...**

イテレーション計画が作成されました: `.claude/agile-artifacts/iterations/iteration-001.md`

!`git add .claude/agile-artifacts/iterations/iteration-001.md && \|
git commit -m "[PLAN] イテレーション1計画作成: 90分TDD実装計画" && \|
echo "✅ イテレーション計画をGitコミット完了"`

---

## ステップ4: TDD実行準備完了

### 🎉 準備完了

以下の内容でTDD開発の準備が整いました：

- **プロジェクト**: $ARGUMENTS
- **作業時間**: 90分（3フェーズ × 30分）
- **方法論**: Kent Beck流TDD
- **必須ゲート**: Red→Green→Refactor厳守

### 次のステップ

```text
🚀 実際のTDD開発を開始するには:

/tdd:run

または段階的に進める場合:
/tdd:run --step-by-step
```

### 作成されたファイル

!`find .claude/agile-artifacts -name "*.md" -o -name "*.json" | head -10`

---

**✨ TDDクイックスタートが完了しました！上記のコマンドでTDD開発を開始してください。**
